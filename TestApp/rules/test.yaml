--- 
parameters:
  - query:      alias(spreadex.services.fins.live1.*.charting_appserver.application.process_cpu_usage-%, 'CPU %')
    threshold:  -1
    title:      Charting AppServer CPU
    recipients: marc.jones@spreadex.com
  - query:      alias(spreadex.services.fins.live1.*.charting_appserver.application.process_cpu_usage-%, 'CPU %')
    threshold:  -1
    title:      Charting AppServer CPU
    recipients: marc.jones@spreadex.com

definition:

  - interval:   3s
  - debounce:   1s
  - count:      countField
    period:     5s
#  - if:         => true
#    then:
#      - console:    shit the bed
#  - prev:       prev
#  - where:      => e.prev != null && e.countField != e.prev.countField
  - console:    "Count is {{@event.countField}}"
 